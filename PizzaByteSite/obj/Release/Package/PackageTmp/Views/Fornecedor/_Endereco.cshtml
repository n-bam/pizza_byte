@model PizzaByteSite.Models.FornecedorModel

<div class="form-group">
    @Html.LabelFor(m => m.Endereco.Cep, new { @class = "control-label col-lg-2 col-md-2 col-sm-3 col-xs-12" })
    <div class="col-lg-4 col-md-4 col-sm-7 col-xs-12">
        @Html.HiddenFor(m => m.Endereco.Id)
        @Html.EditorFor(m => m.Endereco.Cep, new { htmlAttributes = new { @class = "form-control" } })
        @Html.ValidationMessageFor(m => m.Endereco.Cep, "", new { @class = "text-danger" })
    </div>

    <button id="btnBuscarCep" type="button" class="btn btn-primary">Buscar</button>
</div>

<div class="form-group">
    @Html.LabelFor(m => m.Endereco.Logradouro, new { @class = "control-label col-lg-2 col-md-2 col-sm-3 col-xs-12" })
    <div class="col-lg-10 col-md-10 col-sm-9 col-xs-12">
        @Html.EditorFor(m => m.Endereco.Logradouro, new { htmlAttributes = new { @class = "form-control", @readonly = "readonly" } })
        @Html.ValidationMessageFor(m => m.Endereco.Logradouro, "", new { @class = "text-danger" })
    </div>
</div>

<div class="form-group">
    @Html.LabelFor(m => m.Endereco.Bairro, new { @class = "control-label col-lg-2 col-md-2 col-sm-3 col-xs-12" })
    <div class="col-lg-4 col-md-4 col-sm-9 col-xs-12">
        @Html.EditorFor(m => m.Endereco.Bairro, new { htmlAttributes = new { @class = "form-control", @readonly = "readonly" } })
        @Html.ValidationMessageFor(m => m.Endereco.Bairro, "", new { @class = "text-danger" })
    </div>

    @Html.LabelFor(m => m.Endereco.Cidade, new { @class = "control-label col-lg-2 col-md-2 col-sm-3 col-xs-12" })
    <div class="col-lg-4 col-md-4 col-sm-9 col-xs-12">
        @Html.EditorFor(m => m.Endereco.Cidade, new { htmlAttributes = new { @class = "form-control", @readonly = "readonly" } })
        @Html.ValidationMessageFor(m => m.Endereco.Cidade, "", new { @class = "text-danger" })
    </div>
</div>

<div class="form-group">
    @Html.LabelFor(m => m.NumeroEndereco, new { @class = "control-label col-lg-2 col-md-2 col-sm-3 col-xs-12" })
    <div class="col-lg-4 col-md-4 col-sm-9 col-xs-12">
        @Html.EditorFor(m => m.NumeroEndereco, new { htmlAttributes = new { @class = "form-control" } })
        @Html.ValidationMessageFor(m => m.NumeroEndereco, "", new { @class = "text-danger" })
    </div>

    @Html.LabelFor(m => m.ComplementoEndereco, new { @class = "control-label col-lg-2 col-md-2 col-sm-3 col-xs-12" })
    <div class="col-lg-4 col-md-4 col-sm-9 col-xs-12">
        @Html.EditorFor(m => m.ComplementoEndereco, new { htmlAttributes = new { @class = "form-control" } })
        @Html.ValidationMessageFor(m => m.ComplementoEndereco, "", new { @class = "text-danger" })
    </div>
</div>

<script src="~/Scripts/PizzaByteSite/plugins/jQueryUI/jquery-3.3.1.min.js"></script>
<script src="~/Scripts/PizzaByteSite/plugins/jQueryUI/toastr.min.js"></script>
<script src="~/Scripts/PizzaByteSite/Telas/Geral.js"></script>

<script>
    $(document).ready(function () {
        $("#btnBuscarCep").click(function () {
            ObterEndereco($("#Endereco_Cep").val());
        });

        $("#Endereco_Cep").keypress(function (e) {
            if (e.keyCode === 13 || e.charCode === 13) {
                $("#btnBuscarCep").click();
            }
        });

        $("#Endereco_Cep").change(function () {
            $("#Endereco_Logradouro").attr("readonly", "readonly");
            $("#Endereco_Cidade").attr("readonly", "readonly");
            $("#Endereco_Bairro").attr("readonly", "readonly");

            $("#Endereco_Id").val("");
            $("#Endereco_Logradouro").val("");
            $("#Endereco_Cidade").val("");
            $("#Endereco_Bairro").val("");
        });
    });
</script>